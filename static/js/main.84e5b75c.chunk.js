(this.webpackJsonprbs=this.webpackJsonprbs||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},237:function(e,t,n){},238:function(e,t,n){},239:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){},242:function(e,t,n){},243:function(e,t,n){},244:function(e,t,n){},245:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){},248:function(e,t,n){},264:function(e,t,n){},265:function(e,t,n){},266:function(e,t,n){},267:function(e,t,n){},268:function(e,t,n){},269:function(e,t,n){},270:function(e,t,n){},271:function(e,t,n){},272:function(e,t,n){},273:function(e,t,n){},274:function(e,t,n){},275:function(e,t,n){"use strict";n.r(t);var i=n(2),c=n.n(i),r=n(35),s=n.n(r),a=(n(110),n(111),n(5)),o=n(23),l=n(48),d=n(49),j=n(51),u=n(50),h=n(1),b=Object(i.createContext)(),p=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,c=new Array(i),r=0;r<i;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={liked:[],edit:!1,action:!1,message:""},e.like=function(t){e.setState({liked:[].concat(Object(o.a)(e.state.liked),[t])})},e.dislike=function(t){var n=Object(o.a)(e.state.liked),i=n.indexOf(t);-1!==i&&(n.splice(i,1),e.setState({liked:n}))},e.editProp=function(t){e.setState({edit:t})},e.notify=function(t,n){e.setState({action:t,message:n})},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(h.jsx)(b.Provider,{value:Object(a.a)(Object(a.a)({},this.state),{},{like:this.like,dislike:this.dislike,editProp:this.editProp,notify:this.notify}),children:this.props.children})}}]),n}(i.Component),O=n(7),x=n(10),m=n(3),f=n(13),v=n(4),y=n.n(v),g=n(9),N="http://localhost:4000/properties/",k=function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null},C=function(){var e=Object(g.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(N,"all"),{method:"GET",headers:{Authorization:k("x-auth-token")}});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(g.a)(y.a.mark((function e(t){var n,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(N).concat(t.offer,"?city=").concat(t.city,"&type=").concat(t.type,"&bedrooms=").concat(t.bedrooms,"&minPrice=").concat(t.minPrice,"&maxPrice=").concat(t.maxPrice,"&sortBy=").concat(t.sortBy),{method:"GET",headers:{Authorization:k("x-auth-token")}});case 2:return n=e.sent,e.next=5,n.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(g.a)(y.a.mark((function e(t){var n,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(N,"/properties?offer=").concat(t.offer,"&city=").concat(t.city,"&type=").concat(t.type,"&bedrooms=").concat(t.bedrooms,"&minPrice=").concat(t.minPrice,"&maxPrice=").concat(t.maxPrice),{method:"GET",headers:{Authorization:k("x-auth-token")}});case 2:return n=e.sent,e.next=5,n.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(g.a)(y.a.mark((function e(t){var n,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.split("property/")[1],e.next=3,fetch("".concat(N).concat(n),{method:"GET",headers:{Authorization:k("x-auth-token")}});case 3:return i=e.sent,e.next=6,i.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(g.a)(y.a.mark((function e(t){var n,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:4000/properties/delete",{method:"POST",body:JSON.stringify({id:t}),headers:{Authorization:k("x-auth-token"),"Content-Type":"application/json"}});case 2:return n=e.sent,i=n.json(),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(g.a)(y.a.mark((function e(t){var n,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:4000/properties/update",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:k("x-auth-token")}});case 2:return n=e.sent,e.next=5,n.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=n(12),A=function(){var e=Object(g.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:4000/api/getuser",{method:"GET",headers:{"Content-Type":"application/json",Authorization:k("x-auth-token")}});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(g.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:4000/api/verify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:k("x-auth-token")}});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=Object(i.createContext)(),M=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,c=new Array(i),r=0;r<i;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={userID:"",isAuthenticated:null,userEmail:"",likedProperties:"",name:"",surname:""},e.updateProperties=function(t){e.setState({likedProperties:t.likedProperties})},e.login=function(t){var n=t.email,i=t.name,c=t.surname,r=t.likedProperties,s=t.id;e.setState({userID:s,isAuthenticated:!0,userEmail:n,likedProperties:r,name:i,surname:c})},e.logout=function(){document.cookie="x-auth-token=",localStorage.removeItem("user"),e.setState({isAuthenticated:!1,userEmail:"",userID:"",likedProperties:"",name:"",surname:""})},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;T().then((function(t){t&&t.auth?e.setState({userID:t.user._id,isAuthenticated:!0,userEmail:t.user.email,name:t.user.name,surname:t.user.surname,likedProperties:t.user.likedProperties}):e.logout()})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(h.jsx)(D.Provider,{value:Object(a.a)(Object(a.a)({},this.state),{},{login:this.login,logout:this.logout,updateProperties:this.updateProperties}),children:this.props.children})}}]),n}(i.Component),B=(n(228),function(e){var t=e.id;return Object(h.jsx)("div",{"data-testid":"loader",className:"ring".concat(" ",t)})}),R=function(e){var t,n="";return t=e.bedrooms&&"Studio"!==e.bedrooms?e.bedrooms.charAt(0):"1",e.bathroom&&(n=e.bathroom.charAt(0)),{char:t,bath:n}},W=n(22),F=n(31),G=n(19),q=(n(229),function(e){var t=e.data,n=e.loading,c=Object(i.useState)(!0),r=Object(m.a)(c,2),s=r[0],a=r[1],o=Object(i.useState)(!1),l=Object(m.a)(o,2),d=l[0],j=l[1],u=Object(i.useContext)(D).userID,p=Object(i.useContext)(b),O=p.like,v=p.dislike,y=p.liked,g=Object(x.f)(),N=t,C=N._id,S="RENT"===N.sellOrRent;Object(i.useEffect)((function(){(N.ownerId&&N.ownerId._id===u||!u)&&a(!1),N.ownerId&&N.ownerId===u&&a(!1),y&&y.includes(C)&&j(!0),N.liked&&N.liked.includes(u)&&j(!0)}),[d,u]);var w=R(N),P=w.char,I=w.bath,E=function(e){var t="";d?(t="dislike",j(!1),v(C)):(t="like",j(!0),O(C)),function(e,t){fetch("http://localhost:4000/api/likeprop",{method:"POST",headers:Object(f.a)({"Content-Type":"application/json",Authorization:k("x-auth-token")},e,t)}).then((function(){})).catch((function(e){return console.log(e)}))}(t,C)};return Object(h.jsxs)("div",{className:"parent",children:[n&&Object(h.jsx)(B,{id:"cardLoader"}),Object(h.jsxs)("header",{children:[Object(h.jsxs)("div",{className:"propImage",children:[s?d?Object(h.jsx)(G.c,{id:"liked",onClick:E}):Object(h.jsx)(G.f,{id:"like",onClick:E}):null,Object(h.jsx)(L.a,{publicId:N.img,cloudName:"zltgrd",children:Object(h.jsx)(L.b,{width:"150",height:"150"})})]}),Object(h.jsxs)("div",{className:"cardImgInfo",children:[Object(h.jsx)("h2",{children:"\xa3 ".concat(N.price," ").concat(S?"p.m":"")}),Object(h.jsxs)("div",{className:"iconWrapper",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(W.a,{className:"icon"})," ",P," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(F.a,{className:"icon"})," ",I," "]})]}),Object(h.jsx)("h6",{children:N.street}),Object(h.jsx)("h6",{children:N.city})]})]}),Object(h.jsx)("footer",{children:Object(h.jsx)("button",{onClick:function(e){e.preventDefault(),g.push("/property/".concat(C))},children:"Details"})})]})}),H=function(e){var t=e.children,n=t.className,i=t.func,c=t.value;return Object(h.jsxs)("select",{"data-testid":"city",name:"city",id:"city",defaultValue:"0",className:n,onChange:i,required:!0,children:[c?Object(h.jsx)("option",{value:c,children:c}):Object(h.jsx)("option",{value:"0",children:"Select..."}),Object(h.jsx)("option",{id:"city",value:"London",children:"London"}),Object(h.jsx)("option",{id:"city",value:"Greater Manchester",children:"Greater Manchester"}),Object(h.jsx)("option",{id:"city",value:"Merseyside",children:"Merseyside"}),Object(h.jsx)("option",{id:"city",value:"Kent",children:"Kent"}),Object(h.jsx)("option",{id:"city",value:"Avon",children:"Avon"}),Object(h.jsx)("option",{id:"city",value:"Bedfordshire",children:"Bedfordshire"}),Object(h.jsx)("option",{id:"city",value:"Berkshire",children:"Berkshire"}),Object(h.jsx)("option",{id:"city",value:"Bristol",children:"Bristol"}),Object(h.jsx)("option",{id:"city",value:"Buckinghamshire",children:"Buckinghamshire"}),Object(h.jsx)("option",{id:"city",value:"Cambridgeshire",children:"Cambridgeshire"}),Object(h.jsx)("option",{id:"city",value:"Cheshire",children:"Cheshire"}),Object(h.jsx)("option",{id:"city",value:"Cleveland",children:"Cleveland"}),Object(h.jsx)("option",{id:"city",value:"Cornwall",children:"Cornwall"}),Object(h.jsx)("option",{id:"city",value:"Cumbria",children:"Cumbria"}),Object(h.jsx)("option",{id:"city",value:"Derbyshire",children:"Derbyshire"}),Object(h.jsx)("option",{id:"city",value:"Devon",children:"Devon"}),Object(h.jsx)("option",{id:"city",value:"Dorset",children:"Dorset"}),Object(h.jsx)("option",{id:"city",value:"Durham",children:"Durham"}),Object(h.jsx)("option",{id:"city",value:"East Riding of Yorkshire",children:"East Riding of Yorkshire"}),Object(h.jsx)("option",{id:"city",value:"East Sussex",children:"East Sussex"}),Object(h.jsx)("option",{id:"city",value:"Essex",children:"Essex"}),Object(h.jsx)("option",{id:"city",value:"Gloucestershire",children:"Gloucestershire"}),Object(h.jsx)("option",{id:"city",value:"Hampshire",children:"Hampshire"}),Object(h.jsx)("option",{id:"city",value:"Herefordshire",children:"Herefordshire"}),Object(h.jsx)("option",{id:"city",value:"Hertfordshire",children:"Hertfordshire"}),Object(h.jsx)("option",{id:"city",value:"Humberside",children:"Humberside"}),Object(h.jsx)("option",{id:"city",value:"Isle of Wight",children:"Isle of Wight"}),Object(h.jsx)("option",{id:"city",value:"Isles of Scilly",children:"Isles of Scilly"}),Object(h.jsx)("option",{id:"city",value:"Lancashire",children:"Lancashire"}),Object(h.jsx)("option",{id:"city",value:"Leicestershire",children:"Leicestershire"}),Object(h.jsx)("option",{id:"city",value:"Lincolnshire",children:"Lincolnshire"}),Object(h.jsx)("option",{id:"city",value:"Middlesex",children:"Middlesex"}),Object(h.jsx)("option",{id:"city",value:"Norfolk",children:"Norfolk"}),Object(h.jsx)("option",{id:"city",value:"North Yorkshire",children:"North Yorkshire"}),Object(h.jsx)("option",{id:"city",value:"Northamptonshire",children:"Northamptonshire"}),Object(h.jsx)("option",{id:"city",value:"Northumberland",children:"Northumberland"}),Object(h.jsx)("option",{id:"city",value:"Nottinghamshire",children:"Nottinghamshire"}),Object(h.jsx)("option",{id:"city",value:"Oxfordshire",children:"Oxfordshire"}),Object(h.jsx)("option",{id:"city",value:"Rutland",children:"Rutland"}),Object(h.jsx)("option",{id:"city",value:"Shropshire",children:"Shropshire"}),Object(h.jsx)("option",{id:"city",value:"Somerset",children:"Somerset"}),Object(h.jsx)("option",{id:"city",value:"South Yorkshire",children:"South Yorkshire"}),Object(h.jsx)("option",{id:"city",value:"Staffordshire",children:"Staffordshire"}),Object(h.jsx)("option",{id:"city",value:"Suffolk",children:"Suffolk"}),Object(h.jsx)("option",{id:"city",value:"Surrey",children:"Surrey"}),Object(h.jsx)("option",{id:"city",value:"Tyne and Wear",children:"Tyne and Wear"}),Object(h.jsx)("option",{id:"city",value:"Warwickshire",children:"Warwickshire"}),Object(h.jsx)("option",{id:"city",value:"West Midlands",children:"West Midlands"}),Object(h.jsx)("option",{id:"city",value:"West Sussex",children:"West Sussex"}),Object(h.jsx)("option",{id:"city",value:"West Yorkshire",children:"West Yorkshire"}),Object(h.jsx)("option",{id:"city",value:"Wiltshire",children:"Wiltshire"}),Object(h.jsx)("option",{id:"city",value:"Worcestershire",children:"Worcestershire"}),Object(h.jsx)("option",{id:"city",value:"",children:"&nbsp"}),Object(h.jsx)("option",{id:"city",value:"--UK Offshore--",children:"--UK Offshore--"}),Object(h.jsx)("option",{id:"city",value:"Channel Islands",children:"Channel Islands"}),Object(h.jsx)("option",{id:"city",value:"Isle of Man",children:"Isle of Man"}),Object(h.jsx)("option",{id:"city",value:"",children:"&nbsp"}),Object(h.jsx)("option",{id:"city",value:"--Northern Ireland--",children:"--Northern Ireland--"}),Object(h.jsx)("option",{id:"city",value:"Antrim",children:"Antrim"}),Object(h.jsx)("option",{id:"city",value:"Armagh",children:"Armagh"}),Object(h.jsx)("option",{id:"city",value:"Down",children:"Down"}),Object(h.jsx)("option",{id:"city",value:"Fermanagh",children:"Fermanagh"}),Object(h.jsx)("option",{id:"city",value:"Londonderry",children:"Londonderry"}),Object(h.jsx)("option",{id:"city",value:"Tyrone",children:"Tyrone"}),Object(h.jsx)("option",{id:"city",value:"",children:"&nbsp"}),Object(h.jsx)("option",{id:"city",value:"--Scotland--",children:"--Scotland--"}),Object(h.jsx)("option",{id:"city",value:"Aberdeen City",children:"Aberdeen City"}),Object(h.jsx)("option",{id:"city",value:"Aberdeenshire",children:"Aberdeenshire"}),Object(h.jsx)("option",{id:"city",value:"Angus",children:"Angus"}),Object(h.jsx)("option",{id:"city",value:"Argyll and Bute",children:"Argyll and Bute"}),Object(h.jsx)("option",{id:"city",value:"Borders",children:"Borders"}),Object(h.jsx)("option",{id:"city",value:"Clackmannan",children:"Clackmannan"}),Object(h.jsx)("option",{id:"city",value:"Dumfries and Galloway",children:"Dumfries and Galloway"}),Object(h.jsx)("option",{id:"city",value:"Dundee (City of)",children:"Dundee (City of)"}),Object(h.jsx)("option",{id:"city",value:"East Ayrshire",children:"East Ayrshire"}),Object(h.jsx)("option",{id:"city",value:"East Dunbartonshire",children:"East Dunbartonshire"}),Object(h.jsx)("option",{id:"city",value:"East Lothian",children:"East Lothian"}),Object(h.jsx)("option",{id:"city",value:"East Renfrewshire",children:"East Renfrewshire"}),Object(h.jsx)("option",{id:"city",value:"Edinburgh (City of)",children:"Edinburgh (City of)"}),Object(h.jsx)("option",{id:"city",value:"Falkirk",children:"Falkirk"}),Object(h.jsx)("option",{id:"city",value:"Fife",children:"Fife"}),Object(h.jsx)("option",{id:"city",value:"Glasgow (City of)",children:"Glasgow (City of)"}),Object(h.jsx)("option",{id:"city",value:"Highland",children:"Highland"}),Object(h.jsx)("option",{id:"city",value:"Inverclyde",children:"Inverclyde"}),Object(h.jsx)("option",{id:"city",value:"Midlothian",children:"Midlothian"}),Object(h.jsx)("option",{id:"city",value:"Moray",children:"Moray"}),Object(h.jsx)("option",{id:"city",value:"North Ayrshire",children:"North Ayrshire"}),Object(h.jsx)("option",{id:"city",value:"North Lanarkshire",children:"North Lanarkshire"}),Object(h.jsx)("option",{id:"city",value:"Orkney",children:"Orkney"}),Object(h.jsx)("option",{id:"city",value:"Perthshire and Kinross",children:"Perthshire and Kinross"}),Object(h.jsx)("option",{id:"city",value:"Renfrewshire",children:"Renfrewshire"}),Object(h.jsx)("option",{id:"city",value:"Shetland",children:"Shetland"}),Object(h.jsx)("option",{id:"city",value:"South Ayrshire",children:"South Ayrshire"}),Object(h.jsx)("option",{id:"city",value:"South Lanarkshire",children:"South Lanarkshire"}),Object(h.jsx)("option",{id:"city",value:"Stirling",children:"Stirling"}),Object(h.jsx)("option",{id:"city",value:"West Dunbartonshire",children:"West Dunbartonshire"}),Object(h.jsx)("option",{id:"city",value:"West Lothian",children:"West Lothian"}),Object(h.jsx)("option",{id:"city",value:"Western Isles",children:"Western Isles"}),Object(h.jsx)("option",{id:"city",value:"--Wales--",children:"--Wales--"}),Object(h.jsx)("option",{id:"city",value:"Blaenau Gwent",children:"Blaenau Gwent"}),Object(h.jsx)("option",{id:"city",value:"Bridgend",children:"Bridgend"}),Object(h.jsx)("option",{id:"city",value:"Caerphilly",children:"Caerphilly"}),Object(h.jsx)("option",{id:"city",value:"Cardiff",children:"Cardiff"}),Object(h.jsx)("option",{id:"city",value:"Carmarthenshire",children:"Carmarthenshire"}),Object(h.jsx)("option",{id:"city",value:"Ceredigion",children:"Ceredigion"}),Object(h.jsx)("option",{id:"city",value:"Conwy",children:"Conwy"}),Object(h.jsx)("option",{id:"city",value:"Denbighshire",children:"Denbighshire"}),Object(h.jsx)("option",{id:"city",value:"Flintshire",children:"Flintshire"}),Object(h.jsx)("option",{id:"city",value:"Gwynedd",children:"Gwynedd"}),Object(h.jsx)("option",{id:"city",value:"Isle of Anglesey",children:"Isle of Anglesey"}),Object(h.jsx)("option",{id:"city",value:"Merthyr Tydfil",children:"Merthyr Tydfil"}),Object(h.jsx)("option",{id:"city",value:"Monmouthshire",children:"Monmouthshire"}),Object(h.jsx)("option",{id:"city",value:"Neath Port Talbot",children:"Neath Port Talbot"}),Object(h.jsx)("option",{id:"city",value:"Newport",children:"Newport"}),Object(h.jsx)("option",{id:"city",value:"Pembrokeshire",children:"Pembrokeshire"}),Object(h.jsx)("option",{id:"city",value:"Powys",children:"Powys"}),Object(h.jsx)("option",{id:"city",value:"Rhondda Cynon Taff",children:"Rhondda Cynon Taff"}),Object(h.jsx)("option",{id:"city",value:"Swansea",children:"Swansea"}),Object(h.jsx)("option",{id:"city",value:"Torfaen",children:"Torfaen"}),Object(h.jsx)("option",{id:"city",value:"The Vale of Glamorgan",children:"The Vale of Glamorgan"}),Object(h.jsx)("option",{id:"city",value:"Wrexham",children:"Wrexham"})]})},_=function(e){var t=e.children,n=t.className,i=t.func,c=t.value;return Object(h.jsxs)("select",{"data-testid":"type",name:"type",id:"type",defaultValue:"0",className:n,onChange:i,required:!0,children:[c?Object(h.jsx)("option",{value:c,children:c}):Object(h.jsx)("option",{value:"0",children:"Select..."}),Object(h.jsx)("option",{className:"inputsEL",value:"Flat",required:!0,children:"Flat"}),Object(h.jsx)("option",{className:"inputsEL",value:"House",required:!0,children:"House"}),Object(h.jsx)("option",{className:"inputsEL",value:"Cottage",required:!0,children:"Cottage"}),Object(h.jsx)("option",{className:"inputsEL",value:"Land",required:!0,children:"Land"})]})},z=function(e){var t=e.children,n=t.id,i=t.className,c=t.func;return Object(h.jsxs)("select",{"data-testid":"rentingPrice",name:"price",id:n,defaultValue:"0",className:i,onChange:c,children:[Object(h.jsx)("option",{value:"0",children:"Select..."}),Object(h.jsx)("option",{value:"100",children:"100"}),Object(h.jsx)("option",{value:"200",children:"200"}),Object(h.jsx)("option",{value:"300",children:"300"}),Object(h.jsx)("option",{value:"400",children:"400"}),Object(h.jsx)("option",{value:"500",children:"500"}),Object(h.jsx)("option",{value:"600",children:"600"}),Object(h.jsx)("option",{value:"700",children:"700"}),Object(h.jsx)("option",{value:"800",children:"800"}),Object(h.jsx)("option",{value:"900",children:"900"}),Object(h.jsx)("option",{value:"1000",children:"1000"}),Object(h.jsx)("option",{value:"1100",children:"1100"}),Object(h.jsx)("option",{value:"1200",children:"1200"}),Object(h.jsx)("option",{value:"1300",children:"1300"}),Object(h.jsx)("option",{value:"1400",children:"1400"}),Object(h.jsx)("option",{value:"1500",children:"1500"}),Object(h.jsx)("option",{value:"1600",children:"1600"}),Object(h.jsx)("option",{value:"2000",children:"2000"}),Object(h.jsx)("option",{value:"2100",children:"2100"}),Object(h.jsx)("option",{value:"2200",children:"2200"}),Object(h.jsx)("option",{value:"2300",children:"2300"}),Object(h.jsx)("option",{value:"2400",children:"2400"}),Object(h.jsx)("option",{value:"2500",children:"2500"}),Object(h.jsx)("option",{value:"2600",children:"2600"}),Object(h.jsx)("option",{value:"2700",children:"2700"}),Object(h.jsx)("option",{value:"2800",children:"2800"}),Object(h.jsx)("option",{value:"2900",children:"2900"}),Object(h.jsx)("option",{value:"3000",children:"3000"})]})},U=function(e){var t=e.children,n=t.id,i=t.className,c=t.func;return Object(h.jsxs)("select",{"data-testid":"sellingPrice",name:"price",id:n,defaultValue:"0",className:i,onChange:c,children:[Object(h.jsx)("option",{value:"0",children:"Select..."}),Object(h.jsx)("option",{value:"10000",children:"10 000"}),Object(h.jsx)("option",{value:"20000",children:"20 000"}),Object(h.jsx)("option",{value:"30000",children:"30 000"}),Object(h.jsx)("option",{value:"40000",children:"40 000"}),Object(h.jsx)("option",{value:"50000",children:"50 000"}),Object(h.jsx)("option",{value:"60000",children:"60 000"}),Object(h.jsx)("option",{value:"70000",children:"70 000"}),Object(h.jsx)("option",{value:"80000",children:"80 000"}),Object(h.jsx)("option",{value:"90000",children:"90 000"}),Object(h.jsx)("option",{value:"100000",children:"100 000"}),Object(h.jsx)("option",{value:"110000",children:"110 000"}),Object(h.jsx)("option",{value:"120000",children:"120 000"}),Object(h.jsx)("option",{value:"130000",children:"130 000"}),Object(h.jsx)("option",{value:"140000",children:"140 000"}),Object(h.jsx)("option",{value:"150000",children:"150 000"}),Object(h.jsx)("option",{value:"160000",children:"160 000"}),Object(h.jsx)("option",{value:"200000",children:"200 000"}),Object(h.jsx)("option",{value:"210000",children:"210 000"}),Object(h.jsx)("option",{value:"220000",children:"220 000"}),Object(h.jsx)("option",{value:"230000",children:"230 000"}),Object(h.jsx)("option",{value:"240000",children:"240 000"}),Object(h.jsx)("option",{value:"250000",children:"250 000"}),Object(h.jsx)("option",{value:"260000",children:"260 000"}),Object(h.jsx)("option",{value:"270000",children:"270 000"}),Object(h.jsx)("option",{value:"280000",children:"280 000"}),Object(h.jsx)("option",{value:"290000",children:"290 000"}),Object(h.jsx)("option",{value:"350000",children:"350 000"}),Object(h.jsx)("option",{value:"400000",children:"400 000"}),Object(h.jsx)("option",{value:"450000",children:"450 000"}),Object(h.jsx)("option",{value:"500000",children:"500 000"}),Object(h.jsx)("option",{value:"550000",children:"550 000"}),Object(h.jsx)("option",{value:"100000000",children:"550 00+"})]})},Y=function(e){var t=e.children,n=t.className,i=t.func,c=t.value;return Object(h.jsxs)("select",{"data-testid":"bedroom",name:"type",id:"bedrooms",className:n,defaultValue:"0",onChange:i,required:!0,children:[c?Object(h.jsx)("option",{value:c,children:c}):Object(h.jsx)("option",{value:"0",children:"Select..."}),Object(h.jsx)("option",{className:"inputsEL",value:"Studio",required:!0,children:"Studio"}),Object(h.jsx)("option",{className:"inputsEL",value:"1 bedroom",required:!0,children:"1 bedroom"}),Object(h.jsx)("option",{className:"inputsEL",value:"2 bedroom",required:!0,children:"2 bedroom"}),Object(h.jsx)("option",{className:"inputsEL",value:"3 bedroom",required:!0,children:"3 bedroom"}),Object(h.jsx)("option",{className:"inputsEL",value:"4 bedroom",required:!0,children:"4 bedroom"})]})},K=function(e){document.getElementById(e).click()},J=function(e,t){t(e.target.textContent)},V=function(e,t,n){var i=[];if(e.target.checked&&(i.push(e.target.name),t((function(e){return[].concat(Object(o.a)(e),Object(o.a)(i))}))),!e.target.checked){var c=(i=n).find((function(t){return t===e.target.name})),r=i.indexOf(c);i.splice(r,1),t(i)}return i},Z=(n(235),function(){var e=Object(i.useState)("RENT"),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)({offer:n}),s=Object(m.a)(r,2),o=s[0],l=s[1],d=Object(x.f)(),j=function(e){var t;l(Object(a.a)(Object(a.a)({},o),{},(t={},Object(f.a)(t,e.target.id,e.target.value),Object(f.a)(t,"offer",n),t)))};Object(i.useEffect)((function(){l(Object(a.a)(Object(a.a)({},o),{},{offer:n}))}),[n]);return Object(h.jsx)("form",{"data-testid":"searchForm",onSubmit:function(e){e.preventDefault(),d.push({pathname:"".concat(o.offer),search:"?offer=".concat(o.offer,"&city=").concat(o.city||"","&type=").concat(o.type||"","&bedrooms=").concat(o.bedrooms||"","&minPrice=").concat(o.minPrice||"","&maxPrice=").concat(o.maxPrice||""),state:o})},children:Object(h.jsxs)("div",{className:"formWrapper",children:[Object(h.jsx)("header",{children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{onClick:function(e){J(e,c)},value:"RENT",className:"RENT"===n?"clicked":"",children:"RENT"}),Object(h.jsx)("li",{onClick:function(e){J(e,c)},value:"SELL",className:"SALE"===n?"clicked":"",children:"SALE"})]})}),Object(h.jsxs)("main",{className:"searchFormBody",children:[Object(h.jsx)("h4",{children:"Search for Property "}),Object(h.jsxs)("div",{className:"imputs",children:[Object(h.jsx)("label",{htmlFor:"city",children:"City"}),Object(h.jsx)(H,{children:{className:"options",func:j,required:!0}})]}),Object(h.jsxs)("div",{className:"imputs",children:[Object(h.jsx)("label",{htmlFor:"type",children:"Property Type"}),Object(h.jsx)(_,{children:{className:"options",func:j,required:!1}})]}),Object(h.jsxs)("div",{className:"imputs",children:[Object(h.jsx)("label",{htmlFor:"type",children:"Bedroom"}),Object(h.jsx)(Y,{children:{className:"options",func:j,required:!1}})]}),Object(h.jsxs)("div",{className:"typeContainer",children:[Object(h.jsxs)("div",{className:"imputs",children:[Object(h.jsx)("label",{htmlFor:"price",children:"Min.Price"}),"RENT"===n?Object(h.jsx)(z,{children:{id:"minPrice",className:"options",func:j,required:!0}}):Object(h.jsx)(U,{children:{id:"minPrice",className:"options",func:j,required:!0}})]}),Object(h.jsxs)("div",{className:"imputs",children:[Object(h.jsx)("label",{htmlFor:"price",children:"Max.Price"}),"SELL"===n?Object(h.jsx)(z,{children:{id:"maxPrice",className:"options",func:j,required:!0}}):Object(h.jsx)(U,{children:{id:"maxPrice",className:"options",func:j,required:!0}})]})]})]}),Object(h.jsx)("button",{children:"SEARCH"})]})})}),$=n.p+"static/media/key.a8ad524e.jpg",Q=(n(236),function(){var e=Object(i.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)(!0),s=Object(m.a)(r,2),a=s[0],o=s[1];return Object(i.useEffect)((function(){C().then((function(e){c(e),o(!1)})).catch((function(e){return console.log("error",e)}))}),[]),Object(h.jsxs)(i.Fragment,{children:[Object(h.jsxs)("div",{className:"homeContainer",style:{backgroundImage:"url(".concat($,")")},children:[Object(h.jsx)("div",{className:"homeTitle"}),Object(h.jsx)(Z,{})]}),a&&Object(h.jsx)(B,{id:"homeLoader"}),Object(h.jsx)("div",{className:"cardContainer",children:n?n.map((function(e){return Object(h.jsx)(q,{loading:a,data:e},e._id)})):null})]})}),X=function(){var e=Object(g.a)(y.a.mark((function e(t,n,i,c){var r,s,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,s=r.headers.get("Authorization"),document.cookie="x-auth-token=".concat(s),e.next=8,r.json();case 8:(a=e.sent).email&&s&&a._id?i({email:a.email,id:a._id,name:a.name,surname:a.surname,properties:a.properties}):c(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),c(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,i,c){return e.apply(this,arguments)}}(),ee=function(e,t){var n=e.name,i=e.surname,c=e.email,r=e.password,s=e.repassword;c?n?i?/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(c)?r===s?r.length<6&&t({err:"The password must be at least 6 characters!",input:"password"}):t({err:"The password does't match!",input:"password"}):t({err:"Please, insert a valid email!",input:"email"}):t({err:"Please, insert your surname!",input:"surname"}):t({err:"Please, insert your name!",input:"name"}):t({err:"Please, insert your email!",input:"email"})},te=function(e,t){e&&setTimeout((function(){t({err:"",input:""})}),2e3)},ne=(n(237),function(){var e=Object(i.useState)({err:"",input:""}),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(i.useContext)(D).login,s=Object(i.useState)(!1),a=Object(m.a)(s,2),o=a[0],l=a[1],d=Object(x.f)(),j=Object(i.useContext)(b).notify,u=function(){var e=Object(g.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),l(!0),n={email:t.target.email.value,password:t.target.password.value},e.next=5,X("http://localhost:4000/api/login",n,(function(e){r(e),localStorage.setItem("user",e.email),j(!0,"Welcome, ".concat(e.name," ").concat(e.surname)),l(!1),d.push("/")}),(function(e){c({err:!0}),l(!1),j(!0,"Sorry, please try again!"),d.push("/login")}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return te(n.err,c),Object(h.jsxs)("div",{className:"loginContainer",children:[Object(h.jsx)("h1",{children:"Sign in"}),o&&Object(h.jsx)(B,{id:"loginLoader"}),n.err?Object(h.jsx)("p",{id:"wrongLogin",children:"Wrong email or password! Please, try again!"}):Object(h.jsx)("p",{children:"Sign in for your favourite properties and more."}),Object(h.jsxs)("form",{action:"",className:"loginForm",onSubmit:u,children:[Object(h.jsx)("label",{htmlFor:"email",children:"Email"}),Object(h.jsx)("input",{className:n.err?"errors":"",type:"email",name:"email",id:"email"}),Object(h.jsx)("label",{htmlFor:"password",children:"Password"}),Object(h.jsx)("input",{className:n.err?"errors":"",type:"password",name:"password",id:"password"}),Object(h.jsx)("button",{children:"Login"})]}),Object(h.jsx)("a",{href:"/forgot",id:"forgot",children:"Forgot your password?"}),Object(h.jsx)("div",{className:"redirecRegister",children:Object(h.jsxs)("div",{children:[" ",Object(h.jsx)("p",{children:"You don't have an accout yet? "}),Object(h.jsx)(O.b,{to:"/register",id:"join",children:"Join us now"})]})})]})}),ie=(n(238),function(e){var t=e.type,n=e.name,i=e.label,c=e.error,r=!1;return"repasword"===n&&"password"===c.input&&(r=!0),Object(h.jsxs)("div",{"data-testid":"register",className:"email"===n?"regInputWrapper email":"regInputWrapper",children:[Object(h.jsx)("label",{htmlFor:n,children:i}),Object(h.jsx)("input",{className:c.input===n||r?"errors":"",type:t,name:n,id:n})]})}),ce=(n(239),function(){var e=Object(i.useState)({err:"",input:""}),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)(!1),s=Object(m.a)(r,2),a=s[0],o=s[1],l=Object(i.useContext)(D).login,d=Object(x.f)(),j=Object(i.useContext)(b).notify;Object(i.useEffect)((function(){n.err&&setTimeout((function(){o(!1)}),500)}),[n]);var u=function(){var e=Object(g.a)(y.a.mark((function e(t){var i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),i={email:t.target.email.value,name:t.target.name.value,surname:t.target.surname.value,password:t.target.password.value,repassword:t.target.repasword.value},ee(i,c),o(!0),n.err){e.next=7;break}return e.next=7,X("http://localhost:4000/api/register",i,(function(e){e||(c({err:"Something went wrong, please try again!"}),j(!0,"Sorry, please try again!"),o(!1)),l(e),localStorage.setItem("user",e.email),j(!0,"Welcome, ".concat(e.name," ").concat(e.surname)),o(!1),d.push("/")}),(function(e){console.log(e),j(!0,"Sorry, please try again!"),d.push("/register"),o(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return te(n.err,c),Object(h.jsxs)("div",{className:"registerContainer",children:[a&&Object(h.jsx)(B,{id:"loginLoader"}),Object(h.jsx)("h1",{children:"Register"}),n.err?Object(h.jsx)("p",{className:"wrong",children:n.err}):Object(h.jsx)("p",{children:"Sign in for your favourite properties and more."}),Object(h.jsxs)("form",{action:"",onSubmit:u,children:[Object(h.jsx)("div",{id:"regformWrapper",children:Object(h.jsxs)("div",{id:"regInputsWrapper",children:[Object(h.jsx)(ie,{type:"text",name:"email",label:"Email",error:n}),Object(h.jsxs)("div",{id:"regName",children:[Object(h.jsx)(ie,{type:"text",name:"name",label:"Name",error:n}),Object(h.jsx)(ie,{type:"text",name:"surname",label:"Surname",error:n})]}),Object(h.jsxs)("div",{id:"regName",children:[Object(h.jsx)(ie,{type:"password",name:"password",label:"Password",error:n}),Object(h.jsx)(ie,{type:"password",name:"repasword",label:"Re-Password",error:n})]})]})}),Object(h.jsx)("button",{children:"Register"})]}),Object(h.jsx)("div",{id:"alreadyReg",children:Object(h.jsxs)("div",{id:"regLog",children:[" ",Object(h.jsx)("p",{children:"You have an accout already? "}),Object(h.jsx)(O.b,{to:"/login",children:"Login"})," "]})})]})}),re=(n(240),["Furnished","Balcony","Easy transport","Garden","Swiming pool","Parking","Garage","Pets welcome","Smoking allow"]),se=function(e){var t=e.initialState,n=e.setArr,i=e.arr,c=e.className;return Object(h.jsx)("section",{"data-testid":"checbox",className:c,children:re.map((function(e){return Object(h.jsxs)("div",{className:"checkbox",children:[Object(h.jsx)("h2",{children:e}),Object(h.jsx)("input",{type:"checkbox",defaultChecked:t&&t.includes(e),name:e,id:e,onChange:function(e){V(e,n,i)}})]},e)}))})},ae=function(e){var t=e.children,n=t.className,i=t.func,c=t.value;return Object(h.jsxs)("select",{"data-testid":"bathroom",name:"type",id:"bathroom",className:n,onChange:i,required:!0,children:[c?Object(h.jsx)("option",{value:c,children:c}):Object(h.jsx)("option",{value:"0",children:"Select..."}),Object(h.jsx)("option",{className:"inputsEL",value:"1 bathroom",required:!0,children:"1 bathroom"}),Object(h.jsx)("option",{className:"inputsEL",value:"2 bathroom",required:!0,children:"2 bathroom"}),Object(h.jsx)("option",{className:"inputsEL",value:"3 bathroom",required:!0,children:"3 bathroom"}),Object(h.jsx)("option",{className:"inputsEL",value:"4 bathroom",required:!0,children:"4 bathroom"})]})},oe=function(e){var t=e.onChangeHandler,n=e.error;return Object(h.jsxs)("section",{children:[Object(h.jsxs)("div",{className:"submitInputWrapper secondRow",children:[Object(h.jsx)("h2",{children:"Property Type *"}),Object(h.jsx)(_,{children:{className:"type"!==n.input?"optionMenu":"optionMenu errors",func:t}})]}),Object(h.jsxs)("div",{className:"submitInputWrapper secondRow",children:[Object(h.jsx)("h2",{children:"Bedrooms *"}),Object(h.jsx)(Y,{children:{className:"bedrooms"!==n.input?"optionMenu":"optionMenu errors",func:t}})]}),Object(h.jsxs)("div",{className:"submitInputWrapper secondRow",children:[Object(h.jsx)("h2",{children:"Bathrooms *"}),Object(h.jsx)(ae,{children:{className:"bathroom"!==n.input?"optionMenu":"optionMenu errors",func:t}})]}),Object(h.jsxs)("div",{className:"submitInputWrapper secondRow",children:[Object(h.jsx)("h2",{children:"Price *"}),Object(h.jsx)("input",{className:"price"!==n.input?"optionMenu":"optionMenu errors",type:"text",id:"price",onChange:t})]})]})},le=function(e,t,n){var i=e.target.files[0],c=new FileReader;c.readAsDataURL(i),c.onloadend=function(){t((function(e){return[].concat(Object(o.a)(e),[c.result])}))}},de=function(){var e=Object(g.a)(y.a.mark((function e(t,n,i){var c,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:4000".concat(i),{method:"POST",body:JSON.stringify({data:t,prop:n}),headers:{"Content-type":"application/json",Authorization:k("x-auth-token")}});case 3:return c=e.sent,e.next=6,c.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,i){return e.apply(this,arguments)}}(),je=(n(241),function(){var e=Object(i.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)([]),s=Object(m.a)(r,2),o=s[0],l=s[1],d=Object(i.useState)("RENT"),j=Object(m.a)(d,2),u=j[0],p=j[1],O=Object(i.useState)({err:"",input:""}),v=Object(m.a)(O,2),y=v[0],g=v[1],N=Object(i.useState)({type:"",price:"",city:"",street:"",bedrooms:"",bathroom:"",sellOrRent:"",details:n,description:"",ownerId:""}),k=Object(m.a)(N,2),C=k[0],S=k[1],w=Object(i.useState)(!1),P=Object(m.a)(w,2),I=P[0],E=P[1],L=Object(x.f)(),A=Object(i.useContext)(b).notify;Object(i.useEffect)((function(){T().then((function(e){!e.auth&&L.push("/login")})).catch((function(e){return L.push("/login")}))}),[]);var D=function(e){S(Object(a.a)(Object(a.a)({},C),{},Object(f.a)({details:n,sellOrRent:u},e.target.id,e.target.value)))};Object(i.useEffect)((function(){S(Object(a.a)(Object(a.a)({},C),{},{sellOrRent:u}))}),[u]);return te(y.err,g),Object(h.jsxs)("div",{id:"submitPropertie",children:[I&&Object(h.jsx)(B,{id:"postLoader"}),Object(h.jsx)("header",{children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{onClick:function(e){J(e,p)},value:"RENT",style:{borderTopLeftRadius:10},className:"new",children:"RENT"}),Object(h.jsx)("li",{onClick:function(e){J(e,p)},value:"SALE",style:{borderTopRightRadius:10},className:"",children:"SALE"})]})}),Object(h.jsxs)("h1",{children:[u," your property"]}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),E(!0),function(e,t,n){var i=e.city,c=e.street,r=e.type,s=e.bedrooms,a=e.bathroom,o=e.price;i?c?r?s?a?o?0!==t.length||n({err:"It must have at least one picture!",input:"imageButton"}):n({err:"Please, select price!",input:"price"}):n({err:"Please, select bathrooms!",input:"bathroom"}):n({err:"Please, select bedrooms!",input:"bedrooms"}):n({err:"Please, select type!",input:"type"}):n({err:"Please, fill the address!",input:"street"}):n({err:"Please, select city!",input:"city"})}(C,o,g),S(Object(a.a)(Object(a.a)({},C),{},{sellOrRent:u,details:n})),y.err||de(o,C,"/properties/create").then((function(e){if(e)A(!0,"Submitted successfully"),E(!1),L.push("/");else if(e.error)return void E(!1)})).catch((function(e){E(!1),console.error(e)}))},children:[Object(h.jsxs)("main",{children:[Object(h.jsxs)("section",{children:[Object(h.jsxs)("div",{className:"submitInputWrapper",children:[Object(h.jsx)("h2",{children:"City *"}),Object(h.jsx)(H,{children:{className:"city"!==y.input?"optionMenu":"optionMenu errors",func:D}})]}),Object(h.jsxs)("div",{className:"submitInputWrapper addressStreet",children:[Object(h.jsx)("h2",{children:"Address *"}),Object(h.jsx)("input",{type:"text",className:"street"===y.input?"errors":"",id:"street",onChange:D})]})]}),Object(h.jsx)(oe,{error:y,onChangeHandler:D}),y.err?Object(h.jsx)("p",{id:"wrongInput",children:y.err}):Object(h.jsxs)("p",{children:["All fields marked with ",Object(h.jsx)("b",{children:"*"})," are required and must be filled."]})]}),Object(h.jsx)(se,{className:"checkboxContainer",detailHendler:V,arr:n,setArr:c}),Object(h.jsxs)("section",{className:"addImages",children:[Object(h.jsx)("div",{children:Object(h.jsx)("ul",{id:"imgContainer",children:0!==o.length&&o.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsx)("img",{src:e,alt:"upload more"})},e)}))})}),Object(h.jsxs)("section",{children:[Object(h.jsx)("span",{id:"imageButton",className:"imageButton"===y.input?"errors":"",onClick:function(){K("fileImg")},children:0===o.length?"Add Profile Picture *":"Add More Images"}),Object(h.jsx)("input",{id:"fileImg",type:"file",multiple:!0,onChange:function(e){le(e,l)}})]})]}),Object(h.jsxs)("section",{className:"formDescription",children:[Object(h.jsx)("h2",{children:"Description"}),Object(h.jsx)("textarea",{name:"description",id:"description",onChange:D})]}),Object(h.jsx)("button",{id:"submit",type:"submit",children:"SUMBIT"})]})]})}),ue=(n(242),function(e){var t=e.mobile,n=e.setMobile,c=Object(i.useContext)(D),r=c.isAuthenticated,s=c.logout,a=Object(i.useContext)(b).notify,o=r,l=Object(x.f)();return Object(h.jsx)("div",{className:t?"mobileNavigaton clickedNav":"mobileNavigaton",children:Object(h.jsxs)("ul",{children:[o&&Object(h.jsx)("li",{children:Object(h.jsx)(O.b,{to:"/post",onClick:function(){return n(!1)},children:"Post"})}),o&&Object(h.jsx)("li",{children:Object(h.jsx)(O.b,{to:"/profile",onClick:function(){return n(!1)},children:"Profile"})}),Object(h.jsx)("li",{children:Object(h.jsx)(O.b,{"ata-testid":"mobileNavigation",to:"/rent",onClick:function(){return n(!1)},children:"Rent"})}),Object(h.jsx)("li",{children:Object(h.jsx)(O.b,{to:"/sale",onClick:function(){return n(!1)},children:"Buy"})}),o?Object(h.jsxs)("li",{onClick:function(){s(),l.push("/"),a(!0,"Goodbye")},children:[Object(h.jsx)(O.b,{to:"/",onClick:function(){return n(!1)},children:"Logout"})," "]}):Object(h.jsxs)(i.Fragment,{children:[Object(h.jsxs)("li",{children:[" ",Object(h.jsx)(O.b,{to:"/register",onClick:function(){return n(!1)},children:"Register"})," "]}),Object(h.jsxs)("li",{children:[" ",Object(h.jsx)(O.b,{to:"/login",onClick:function(){return n(!1)},children:"LOGIN"})," "]})]})]})})}),he=n.p+"static/media/Logo.a51cfad1.svg",be=n(102),pe=(n(243),function(){var e=Object(i.useState)(!1),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(i.useContext)(D),s=r.isAuthenticated,a=r.logout,o=Object(i.useContext)(b).notify,l=s,d=Object(x.f)();return Object(h.jsxs)("div",{className:"navigation",children:[Object(h.jsx)(be.a,{className:"mobileMenuButton",onClick:function(){c(!n)}}),Object(h.jsx)(O.b,{to:"/",children:Object(h.jsx)("img",{className:"logo",src:he,alt:"this is the logo",onClick:function(){return c(!1)}})}),Object(h.jsx)(ue,{mobile:n,setMobile:c}),Object(h.jsxs)("ul",{className:"navUl",children:[l&&Object(h.jsx)("li",{children:Object(h.jsx)(O.b,{to:"/post",children:"Post"})}),l&&Object(h.jsx)("li",{children:Object(h.jsx)(O.b,{to:"/profile",children:"Profile"})}),Object(h.jsx)("li",{children:Object(h.jsx)(O.b,{to:"/rent",children:"Rent"})}),Object(h.jsx)("li",{children:Object(h.jsx)(O.b,{to:"/sale",children:"Buy"})}),l?Object(h.jsxs)("li",{onClick:function(){a(),d.push("/"),o(!0,"Goodbye")},children:[Object(h.jsx)(O.b,{to:"/",children:"Logout"})," "]}):Object(h.jsxs)(i.Fragment,{children:[Object(h.jsxs)("li",{children:[" ",Object(h.jsx)(O.b,{to:"/register",children:"Register"})," "]}),Object(h.jsxs)("li",{children:[" ",Object(h.jsx)(O.b,{to:"/login",children:"LOGIN"})," "]})]})]})]})}),Oe=(n(244),function(){var e=Object(i.useState)(""),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(i.useContext)(b),s=r.message,a=r.notify;return Object(i.useEffect)((function(){c("grow")}),[s]),s&&setTimeout((function(){a(!1,"")}),2e3),Object(h.jsx)("div",{id:"notify",className:n,children:Object(h.jsx)("h1",{children:s})})}),xe=(n(245),function(e){var t=e.ChangeHandler,n=e.offer;return Object(h.jsxs)("div",{id:"filterBar",className:"filterBar",children:[Object(h.jsx)("span",{className:"filterSpan",id:"filterText",children:"Filter:"}),Object(h.jsxs)("div",{className:"filterButton",children:[Object(h.jsx)("label",{htmlFor:"city",className:"filterSpan",children:"City: "}),Object(h.jsx)(H,{children:{className:"searchInput",func:t}})]}),Object(h.jsxs)("div",{className:"filterButton",children:[Object(h.jsx)("label",{htmlFor:"type",className:"filterSpan",children:"Type:"}),Object(h.jsx)(_,{children:{className:"searchInput",func:t}})]}),Object(h.jsxs)("div",{className:"filterButton",children:[Object(h.jsx)("label",{htmlFor:"bedrooms",className:"filterSpan",children:"Bedrooms:"}),Object(h.jsx)(Y,{children:{className:"searchInput",func:t}})]}),Object(h.jsxs)("div",{className:"filterButton",children:[Object(h.jsx)("label",{htmlFor:"price",className:"filterSpan",children:"Min.Price:"}),"RENT"===n?Object(h.jsx)(z,{children:{id:"minPrice",className:"searchInput",func:t,required:!0}}):Object(h.jsx)(U,{children:{id:"minPrice",className:"searchInput",func:t,required:!0}})]}),Object(h.jsxs)("div",{className:"filterButton",children:[Object(h.jsx)("label",{htmlFor:"price",className:"filterSpan",children:"Max.Price:"}),"RENT"===n?Object(h.jsx)(z,{children:{id:"maxPrice",className:"searchInput",func:t,required:!0}}):Object(h.jsx)(U,{children:{id:"maxPrice",className:"searchInput",func:t,required:!0}})]}),Object(h.jsxs)("div",{className:"filterButton",children:[Object(h.jsx)("label",{className:"filterSpan",children:"Sort by:"}),Object(h.jsxs)("select",{name:"sortBy",id:"sortBy",className:"searchInput",onChange:t,children:[Object(h.jsx)("option",{id:"sortBy",name:"sortBy",value:"newest",children:" Newest"}),Object(h.jsx)("option",{id:"sortBy",name:"sortBy",value:"lowerPrice",children:"Price: Low-High"}),Object(h.jsx)("option",{id:"sortBy",name:"sortBy",value:"higherPrice",children:"Price: High-Low"})]})]})]})}),me=(n(246),function(e){var t=Object(i.useState)(),n=Object(m.a)(t,2),c=n[0],r=n[1],s=Object(i.useState)(!0),o=Object(m.a)(s,2),l=o[0],d=o[1],j=e.location.pathname.split("/")[1].toUpperCase(),u=e.location.state,b=Object(i.useState)({offer:j,city:"",type:"",bedrooms:"",minPrice:"",maxPrice:"",sortBy:"newest"}),p=Object(m.a)(b,2),O=p[0],x=p[1];Object(i.useEffect)((function(){x(u?Object(a.a)({},u):Object(a.a)(Object(a.a)({},O),{},{offer:j}))}),[e.location]),Object(i.useEffect)((function(){u?w(O).then((function(e){r(e),d(!1)})).catch((function(e){return console.log("error",e)})):S(O).then((function(e){r(e),d(!1)})).catch((function(e){return console.log("error",e)}))}),[O]);return Object(h.jsxs)("div",{id:"propertiesContainer",children:[Object(h.jsx)(xe,{ChangeHandler:function(e){x(Object(a.a)(Object(a.a)({},O),{},Object(f.a)({offer:j},e.target.id,e.target.value)))},offer:j}),Object(h.jsxs)("main",{children:[c&&c.map((function(e){return Object(h.jsx)(q,{loading:l,data:e},e._id)})),c&&0===c.length&&Object(h.jsxs)("div",{id:"emptyHouse",children:[Object(h.jsx)("h1",{children:"No properties available at the moment..."}),Object(h.jsx)(G.d,{})]})]})]})}),fe=function(){var e=Object(g.a)(y.a.mark((function e(t){var n,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:4000/api/email",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n;case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=(n(247),function(e){var t=e.ownerName,n=e.ownerEmail,c=e.email,r=e.name,s=e.setMessage,a=Object(i.useState)({to:"",reply_to:"",from_name:"",to_name:"",message:""}),o=Object(m.a)(a,2),l=o[0],d=o[1],j=Object(i.useContext)(b).notify;Object(i.useEffect)((function(){d({reply_to:c,from_name:r,to:n,to_name:t})}),[n]);return Object(h.jsxs)("form",{id:"messageContainer",onSubmit:function(e){e.preventDefault(),fe(l).then((function(){return s(!1)}),j(!0,"The message was sent")).catch((function(e){return j(!0,"Please, try again!")}))},children:[Object(h.jsxs)("header",{children:[Object(h.jsxs)("h1",{children:["To: ",Object(h.jsx)("span",{name:"to_name",id:"to_name",children:t&&t})]}),Object(h.jsx)(W.b,{id:"closeMessage",onClick:function(){return s(!1)}})]}),Object(h.jsx)("main",{children:Object(h.jsx)("textarea",{id:"message",name:"message",onChange:function(e){d(Object(f.a)({reply_to:c,from_name:r,to:n,to_name:t},e.target.id,e.target.value))},placeholder:"Type your message here"})}),Object(h.jsx)("footer",{children:Object(h.jsx)("button",{children:"SEND"})})]})}),ye=(n(248),function(e){var t,n=e.properties,c=e.mine,r=e.setDelete,s=e.setMessage,a=Object(i.useContext)(b),o=a.editProp,l=a.edit,d=Object(i.useContext)(D).isAuthenticated,j="RENT"===n.sellOrRent;return n.ownerId&&(t=n.ownerId.profilephoto),Object(h.jsxs)("aside",{id:"detailAsside",children:[Object(h.jsxs)("header",{children:[Object(h.jsxs)("section",{children:[Object(h.jsx)("div",{children:Object(h.jsx)(L.a,{publicId:t||null,cloudName:"zltgrd",children:Object(h.jsx)(L.b,{width:"40",height:"40"})})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h5",{children:n.ownerId?"".concat(n.ownerId.name," ").concat(n.ownerId.surname):null}),Object(h.jsx)("h6",{children:n.ownerId?n.ownerId.email:null})]})]}),Object(h.jsxs)("h2",{children:[" \xa3 ",n.price," ",j&&"p.m"]}),Object(h.jsx)("h3",{children:"".concat(n.bedrooms," ").concat(n.type)}),Object(h.jsx)("h5",{children:"".concat(n.street," ").concat(n.city)})]}),Object(h.jsx)("div",{children:d?c?Object(h.jsxs)("div",{className:"buttonsWrapper",children:[Object(h.jsx)("button",{onClick:function(){o(!l)},id:"editPropButton",children:l?"Close":"Edit"}),Object(h.jsx)("button",{onClick:function(){return r(!0)},id:"deleteButton",children:"Delete"})]}):Object(h.jsx)("button",{onClick:function(){return s(!0)},children:"Contact"}):Object(h.jsx)(O.b,{to:"/login",children:Object(h.jsx)("button",{type:"button",children:"Contact"})})})]})}),ge=n(52),Ne=Object(ge.GoogleApiWrapper)({apiKey:"AIzaSyDuHjyPJR7REl-O4YotdUOZiG7dGICkef8"})((function(e){var t=e.children.location;return Object(h.jsx)(ge.Map,{google:e.google,zoom:18,style:{width:"95%",height:"95%",padding:"10px",boxSizing:" border-box",margin:"auto"},initialCenter:t,children:Object(h.jsx)(ge.Marker,{position:t})})})),ke=(n(264),function(e){var t=e.func;return Object(h.jsxs)("div",{id:"confirm",children:[Object(h.jsx)("header",{children:Object(h.jsx)("h1",{children:"Are you sure?"})}),Object(h.jsxs)("footer",{onClick:t,children:[Object(h.jsx)("button",{children:"Yes"}),Object(h.jsx)("button",{children:"No"})]})]})}),Ce=(n(265),function(e){var t=e.properties,n=e.setLoading,c=t.details,r=t.bedrooms,s=t.bathroom,o=t.description,l=Object(i.useState)([]),d=Object(m.a)(l,2),j=d[0],u=d[1],p=Object(i.useState)({id:"",bedrooms:"",bathroom:"",details:[],description:""}),O=Object(m.a)(p,2),x=O[0],v=O[1],y=Object(i.useContext)(b),g=y.editProp,N=y.notify;Object(i.useEffect)((function(){u(c)}),[c]),Object(i.useEffect)((function(){v({id:t._id,bedrooms:r,bathroom:s,description:o,details:j})}),[t]),Object(i.useEffect)((function(){v(Object(a.a)(Object(a.a)({},x),{},{details:j}))}),[j]);var k=function(e){v(Object(a.a)(Object(a.a)({},x),{},Object(f.a)({},e.target.id,e.target.value)))};return Object(h.jsx)("div",{id:"editDetailsContainer",children:Object(h.jsxs)("form",{id:"detailsField",onSubmit:function(e){e.preventDefault(e),n(!0),v(Object(a.a)(Object(a.a)({},x),{},{details:j})),E(x).then((function(){g(!1),N(!0,"Updated successfully"),n(!1)})).catch((function(e){N(!0,"Please, try again"),n(!1)}))},children:[Object(h.jsxs)("div",{id:"detailsIconWrapper",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(W.a,{className:"iconsEdit"}),Object(h.jsx)(Y,{children:{className:"optionMenu",value:t.bedrooms,func:k}})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(F.a,{className:"iconsEdit"}),Object(h.jsx)(ae,{children:{className:"optionMenu",value:t.bathroom,func:k}})]})]}),Object(h.jsxs)("div",{className:"infoBody",children:[Object(h.jsx)("div",{children:Object(h.jsx)("h2",{children:"Details"})}),Object(h.jsx)(se,{className:"editPropertyCheckbox",initialState:c,setArr:u,arr:j})]}),Object(h.jsxs)("div",{id:"detailDescription",children:[Object(h.jsx)("h2",{children:"Description"}),Object(h.jsx)("div",{children:Object(h.jsx)("textarea",{name:"description",id:"description",cols:"30",rows:"10",defaultValue:t.description,onChange:k})})]}),Object(h.jsx)("button",{children:"SUMBIT"})]})})}),Se=function(){var e=Object(g.a)(y.a.mark((function e(t,n){var i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:4000/properties/updateImages",{method:"POST",body:JSON.stringify({src:t,id:n}),headers:{"Content-Type":"application/json",Authorization:k("x-auth-token")}});case 2:return i=e.sent,e.next=5,i.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),we=n(103),Pe=(n(266),function(e){var t=e.images,n=e.id,c=e.changePicture,r=e.mine,s=e.setUpdate,a=e.loading,o=e.setLoading,l=Object(i.useContext)(b),d=l.edit,j=l.notify,u=function(e){o(!0);var t=e.currentTarget.previousSibling.src;Se(t,n).then((function(e){s(!0),j(!0,"Deleted"),o(!1)})).catch((function(e){j(!0,"Please, try again!"),o(!1)})),s(!1)};return Object(h.jsxs)("section",{className:"detailImages",children:[a&&Object(h.jsx)(B,{id:"imgDetailLoading"}),t&&t.map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)(L.a,{publicId:e,cloudName:"zltgrd",onClick:c,children:Object(h.jsx)(L.b,{width:"150",height:"150"})}),r&&d&&Object(h.jsx)(we.a,{className:"deleteImage",onClick:u})]},e)}))]})}),Ie=n(104),Ee=(n(267),function(e){var t=e.properties,n=Object(i.useState)([]),c=Object(m.a)(n,2),r=c[0],s=c[1],a=Object(i.useState)(!1),o=Object(m.a)(a,2),l=o[0],d=o[1],j=Object(i.useContext)(b),u=j.editProp,p=j.notify;Object(i.useEffect)((function(){}),[r]);return Object(h.jsxs)("section",{id:"newImageWrapper",children:[Object(h.jsxs)("div",{children:[l&&Object(h.jsx)(B,{id:"imgLoading"}),Object(h.jsx)("ul",{id:"newImageList",children:0!==r.length&&r.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsx)("img",{src:e,alt:"add new image"})},e)}))})]}),Object(h.jsxs)("footer",{children:[Object(h.jsx)(Ie.a,{id:"addMoreImages",onClick:function(){return K("addNewImage")}}),Object(h.jsx)("input",{type:"file",multiple:!0,id:"addNewImage",onChange:function(e){return le(e,s)}})]}),0!==r.length?Object(h.jsx)("button",{id:"submitMoreImages",onClick:function(e){d(!0),de(r,t._id,"/properties/update").then((function(e){u(!1),p(!0,"Submitted successfully"),d(!1)})).catch((function(e){p(!0,"Please, try again!"),d(!1)}))},children:"SUBMIT"}):null]})}),Le=(n(268),function(e){var t=e.properties,n=e.loading;return Object(h.jsxs)("div",{id:"detailsContainer",children:[n&&Object(h.jsx)(B,{id:"detailsContainerLoader"}),Object(h.jsxs)("div",{id:"detailsField",children:[Object(h.jsxs)("div",{id:"detailsIconWrapper",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(W.a,{className:"iconsPic"}),Object(h.jsx)("span",{children:t.bedrooms})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(F.a,{className:"iconsPic"}),Object(h.jsx)("span",{children:t.bathroom})]})]}),Object(h.jsxs)("div",{className:"infoBody",children:[Object(h.jsx)("div",{children:Object(h.jsx)("h2",{children:"Details"})}),Object(h.jsx)("ul",{className:"moreDetailsList",children:t.details?t.details.map((function(e){return Object(h.jsx)("li",{children:e},e)})):null})]}),Object(h.jsxs)("div",{id:"detailDescription",children:[Object(h.jsx)("h2",{children:"Description"}),Object(h.jsx)("div",{children:Object(h.jsx)("p",{children:t.description})})]})]}),Object(h.jsx)("div",{id:"date",children:Object(h.jsxs)("h6",{children:["Last updated at: ",t.updatedAt?t.updatedAt.split("T")[0]:""]})})]})}),Ae=n(53),Te=n.n(Ae),De=function(){var e=Object(g.a)(y.a.mark((function e(t,n){var i,c,r,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Te.a.setApiKey("AIzaSyDuHjyPJR7REl-O4YotdUOZiG7dGICkef8"),Te.a.setLanguage("en"),e.next=4,Te.a.fromAddress("".concat(t,", ").concat(n));case 4:return i=e.sent,e.next=7,i.results[0].geometry.location;case 7:return c=e.sent,r=c.lat,s=c.lng,e.abrupt("return",{lat:r,lng:s});case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Me=(n(269),function(){var e,t,n=Object(i.useState)(!0),c=Object(m.a)(n,2),r=c[0],s=c[1],a=Object(i.useState)(""),o=Object(m.a)(a,2),l=o[0],d=o[1],j=Object(i.useState)("Property Details"),u=Object(m.a)(j,2),p=u[0],O=u[1],f=Object(i.useState)(!1),v=Object(m.a)(f,2),y=v[0],g=v[1],N=Object(i.useState)(!1),k=Object(m.a)(N,2),C=k[0],S=k[1],w=Object(i.useState)(!1),E=Object(m.a)(w,2),A=E[0],T=E[1],M=Object(i.useState)(""),B=Object(m.a)(M,2),R=B[0],W=B[1],F=Object(i.useState)(""),G=Object(m.a)(F,2),q=G[0],H=G[1],_=Object(i.useState)(!1),z=Object(m.a)(_,2),U=z[0],Y=z[1],K=Object(i.useContext)(b),V=K.edit,Z=K.editProp,$=Object(i.useContext)(D),Q=$.userEmail,X=$.name,ee=$.surname,te=$.userID,ne=l.images,ie=Object(x.f)(),ce=ie.location.pathname,re="";l&&(e=l.ownerId.email,t=l.ownerId.name,re=l.ownerId.surname),Object(i.useEffect)((function(){Z(!1)}),[]),Object(i.useEffect)((function(){l&&l.ownerId._id===te&&Y(!0)}),[l]),Object(i.useEffect)((function(){P(ce).then((function(e){d(e),s(!1)})).catch((function(e){return console.error(e)}))}),[V,y]),Object(i.useEffect)((function(){De(l.street,l.city).then((function(e){return W(e)})).catch((function(e){return console.error(e)}))}),[l,V]);return Object(h.jsxs)("div",{id:"detailsPage",children:[Object(h.jsxs)("div",{id:"propertyInfo",children:[Object(h.jsx)(L.a,{publicId:q||l.img,id:"detailsProfilePicture",cloudName:"zltgrd",children:Object(h.jsx)(L.b,{width:"150",height:"150"})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("header",{children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{id:"details",className:"Property Details"===p?"selectedDetailsMenu":"",onClick:function(e){return J(e,O)},children:"Property Details"}),Object(h.jsx)("li",{id:"map",className:"Map"===p?"selectedDetailsMenu":"",onClick:function(e){return J(e,O)},children:"Map"})]})}),V?Object(h.jsx)(Ce,{setLoading:s,properties:l}):"Property Details"===p?Object(h.jsx)(Le,{loading:r,properties:l}):Object(h.jsx)("div",{id:"mapContainer",children:Object(h.jsx)(Ne,{children:{location:R}})})]})]}),Object(h.jsxs)("main",{children:[Object(h.jsx)(ye,{properties:l,setMessage:T,setDelete:S,mine:U}),Object(h.jsx)(Pe,{mine:U,loading:r,setLoading:s,setUpdate:g,images:ne,id:l._id,changePicture:function(e){H(e.target.src)}}),U&&V&&Object(h.jsx)(Ee,{setUpdate:g,properties:l})]}),C&&Object(h.jsx)(ke,{func:function(e){(function(e){return"Yes"===e.target.textContent||"No"!==e.target.textContent&&void 0})(e)?I(ce).then((function(){S(!1),ie.push("/")})).catch((function(e){return console.log(e)})):S(!1)}}),A&&Object(h.jsx)(ve,{ownerName:"".concat(t," ").concat(re),setMessage:T,ownerEmail:e,email:Q,name:"".concat(X," ").concat(ee)})]})}),Be=n.p+"static/media/profile.c3f94521.png",Re=(n(270),function(e){var t=e.user,n=Object(i.useContext)(D).logout,c=Object(x.f)();return Object(h.jsxs)("header",{className:"profileHeader",children:[Object(h.jsx)("div",{id:"profilePicture",children:t.profilephoto?Object(h.jsx)(L.a,{publicId:t.profilephoto,id:"detailsProfilePicture",cloudName:"zltgrd",children:Object(h.jsx)(L.b,{width:"150",height:"150"})}):Object(h.jsx)("img",{src:Be,alt:""})}),Object(h.jsxs)("div",{id:"profileInfo",children:[Object(h.jsx)("h1",{children:"My Profile"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h6",{children:"Name:"}),Object(h.jsx)("h6",{children:t?"".concat(t.name," ").concat(t.surname):null})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h6",{children:"Email:"}),Object(h.jsx)("h6",{children:t.email})]}),t.phone?Object(h.jsxs)("div",{children:[Object(h.jsx)("h6",{children:"Phone:"}),Object(h.jsx)("h6",{children:t.phone})]}):null,t.address?Object(h.jsxs)("div",{children:[Object(h.jsx)("h6",{children:"Live in:"}),Object(h.jsx)("h6",{children:t.address})]}):null]})]}),Object(h.jsx)("div",{id:"profileMenuWrapper",children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(O.b,{to:"#",children:"Messeges"})}),Object(h.jsx)("li",{onClick:function(e){n(),c.push("/")},children:"SignOut"})]})})]})}),We=(n(271),function(e){var t=e.isUpdate,n=e.setLoading,c=Object(i.useState)(""),r=Object(m.a)(c,2),s=r[0],o=r[1],l=Object(i.useState)(""),d=Object(m.a)(l,2),j=d[0],u=d[1],p=Object(i.useContext)(b).notify;Object(i.useEffect)((function(){A().then((function(e){return o(e)})).catch((function(e){return console.log(e)}))}),[j]);var O=function(e){o(Object(a.a)(Object(a.a)({},s),{},Object(f.a)({},e.target.id,e.target.value)))},x=function(){var e=Object(g.a)(y.a.mark((function e(i){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.preventDefault(),n(!0),de(j.img,s,"/api/updateuser").then((function(e){u(""),p(!0,"Submitted successfully"),n(!1),t(!1)})).catch((function(e){p(!0,"Please, try again!"),n(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{id:"editFormWrapper",children:Object(h.jsxs)("form",{className:"editForm",onSubmit:x,children:[Object(h.jsxs)("header",{children:[Object(h.jsx)("div",{onClick:function(){return K("uploadProfilePicture")},children:j.img?Object(h.jsx)("img",{src:j.img,alt:"ProfilePicture"}):s.profilephoto?Object(h.jsx)(L.a,{publicId:s.profilephoto,id:"detailsProfilePicture",cloudName:"zltgrd",children:Object(h.jsx)(L.b,{width:"150",height:"150"})}):Object(h.jsx)("img",{src:j.img||Be,alt:"ProfilePicture"})}),Object(h.jsx)("input",{type:"file",id:"uploadProfilePicture",style:{display:"none"},onChange:function(e){!function(e,t){var n=e.target.files[0],i=new FileReader;i.readAsDataURL(n),i.onloadend=function(){t({img:i.result})}}(e,u)}})]}),Object(h.jsxs)("main",{children:[Object(h.jsx)("h1",{children:"Update your profile"}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(h.jsx)("input",{placeholder:s.name,type:"text",id:"name",onChange:O})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"lastName",children:"Second Name"}),Object(h.jsx)("input",{placeholder:s.surname,type:"text",id:"surname",onChange:O})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"phone",children:"Phone"}),Object(h.jsx)("input",{placeholder:s.phone||"099999999",type:"text",id:"phone",onChange:O})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"location",children:"Location"}),Object(h.jsx)("input",{placeholder:s.location||"London, UK",type:"text",id:"address",onChange:O})]}),Object(h.jsx)("button",{children:" Submit"})]})]})})}),Fe=(n(272),function(){var e=Object(i.useState)(""),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(i.useContext)(b).liked,s=Object(i.useState)(!1),o=Object(m.a)(s,2),l=o[0],d=o[1],j=Object(i.useState)(!0),u=Object(m.a)(j,2),p=u[0],O=u[1],x=Object(i.useState)({liked:!0,owned:!0}),f=Object(m.a)(x,2),v=f[0],y=f[1];Object(i.useEffect)((function(){A().then((function(e){c(e),O(!1)})).catch((function(e){return console.error(e)}))}),[r,l]);var g=n.properties,N=n.likedProperties;return Object(i.useEffect)((function(){N&&0===N.length&&y(Object(a.a)(Object(a.a)({},v),{},{liked:!1})),g&&0===g.length&&y(Object(a.a)(Object(a.a)({},v),{},{owned:!1}))}),[n]),Object(h.jsxs)("div",{id:"profileWrapper",children:[p&&Object(h.jsx)(B,{id:"postLoader"}),l?Object(h.jsx)(We,{setLoading:O,isUpdate:d}):Object(h.jsx)(Re,{user:n}),Object(h.jsx)("div",{className:"profileMenu",onClick:function(e){!function(e,t){t(!e)}(l,d)},children:Object(h.jsx)(G.a,{})}),Object(h.jsxs)("main",{children:[p&&Object(h.jsx)(B,{id:"profilePropsLoader"}),v.owned&&Object(h.jsxs)("div",{id:"ownedProperties",children:[Object(h.jsx)("h1",{className:"propsH1 top",children:"My properties"}),Object(h.jsx)("div",{className:"myProperties",children:g?g.map((function(e){return Object(h.jsx)("div",{className:"myProf",children:Object(h.jsx)(q,{loading:p,data:e})},e._id)})):null})]}),v.liked&&Object(h.jsxs)("div",{id:"likedProps",children:[Object(h.jsx)("h1",{className:"propsH1 ",children:"Liked properties"}),Object(h.jsx)("div",{className:"myProperties",children:N?N.map((function(e){return Object(h.jsx)("div",{className:"myProf",children:Object(h.jsx)(q,{loading:p,data:e})},e._id)})):null})]})]})]})}),Ge=(n(273),n.p+"static/media/404.8a37dc04.png"),qe=function(){return Object(h.jsx)("div",{className:"errorPage",children:Object(h.jsx)("img",{src:Ge,alt:""})})},He=n(105),_e=(n(274),function(){return Object(h.jsxs)("div",{id:"footer",children:[Object(h.jsx)("div",{children:Object(h.jsxs)("h6",{children:[" Yordan Krushkov ",Object(h.jsx)(G.e,{}),"2021"]})}),Object(h.jsxs)("a",{href:"https://github.com/YordanKrushkov/RBS",children:[Object(h.jsx)(G.b,{}),Object(h.jsx)("h6",{children:"https://github.com/YordanKrushkov/RBS"})]}),Object(h.jsxs)("a",{href:"mailto: rbs.properties21@gmail.com",children:[Object(h.jsx)(He.a,{}),Object(h.jsx)("h6",{children:"rbs.properties21@gmail.com"})]})]})});var ze=function(){var e=Object(i.useContext)(b).action;return Object(h.jsx)(O.a,{basename:"/properties/",children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(pe,{}),e&&Object(h.jsx)(Oe,{}),Object(h.jsxs)(x.c,{children:[Object(h.jsx)(x.a,{exact:!0,path:"/",component:Q}),Object(h.jsx)(x.a,{path:"/login",component:ne}),Object(h.jsx)(x.a,{path:"/post",component:je}),Object(h.jsx)(x.a,{path:"/register",component:ce}),Object(h.jsx)(x.a,{path:"/rent",component:me}),Object(h.jsx)(x.a,{path:"/sale",component:me}),Object(h.jsx)(x.a,{path:"/search",component:me}),Object(h.jsx)(x.a,{path:"/profile",component:Fe}),Object(h.jsx)(x.a,{path:"/properties",component:me}),Object(h.jsx)(x.a,{path:"/property/:id",component:Me}),Object(h.jsx)(x.a,{path:"/:err",component:qe})]}),Object(h.jsx)(_e,{})]})})},Ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,276)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),i(e),c(e),r(e),s(e)}))};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(M,{children:Object(h.jsx)(p,{children:Object(h.jsx)(ze,{})})})}),document.getElementById("root")),Ue()}},[[275,1,2]]]);
//# sourceMappingURL=main.84e5b75c.chunk.js.map